# 如何测试翻译引擎

## 方法1: 查看翻译弹窗标题

最简单的方法是查看翻译结果弹窗的标题栏:

1. 在任何网页上选择一段英文文本
2. 查看翻译弹窗的标题
3. 标题中会显示当前使用的引擎:
   - **Google翻译** - 使用Google翻译引擎
   - **AI翻译 (claude-sonnet-4-5)** - 使用Claude模型
   - **AI翻译 (gpt-3.5-turbo)** - 使用GPT-3.5模型
   - **AI翻译 (deepseek-chat)** - 使用DeepSeek模型

## 方法2: 查看浏览器控制台

打开Chrome开发者工具查看详细日志:

1. 按 **F12** 打开开发者工具
2. 切换到 **Console** 标签
3. 选择网页上的英文文本进行翻译
4. 在控制台中会看到类似以下的日志:

```
[翻译助手] 使用引擎: AI翻译 (claude-sonnet-4-5)
[翻译助手] 原文: Hello, how are you?
[翻译助手] 译文: 你好,你好吗?
```

## 方法3: 查看网络请求

查看实际发送的API请求:

1. 按 **F12** 打开开发者工具
2. 切换到 **Network** 标签
3. 选择网页上的英文文本进行翻译
4. 查看网络请求:
   - **Google翻译**: 请求发送到 `translate.googleapis.com`
   - **本地AI**: 请求发送到 `127.0.0.1:8045`
   - **OpenAI**: 请求发送到 `api.openai.com`

5. 点击请求查看详情:
   - **Request Payload**: 查看发送的模型名称
   - **Response**: 查看返回的翻译结果

## 方法4: 查看设置页面

确认当前配置:

1. 右键点击扩展图标,选择"选项"
2. 查看当前选择的翻译引擎
3. 如果选择了"GPT 翻译",查看:
   - API密钥
   - AI模型
   - API地址

## 快速切换测试

### 测试Google翻译:
1. 打开设置页面
2. 选择"Google 翻译"
3. 保存设置
4. 选择文本测试
5. 弹窗标题显示: **翻译结果 Google翻译**

### 测试Claude翻译:
1. 打开设置页面
2. 选择"GPT 翻译"
3. 确认API密钥: `sk-c2bf4ae57ed945469c1d57088d32b864`
4. 选择模型: `claude-sonnet-4-5`
5. 确认API地址: `http://127.0.0.1:8045/v1/chat/completions`
6. 保存设置
7. 选择文本测试
8. 弹窗标题显示: **翻译结果 AI翻译 (claude-sonnet-4-5)**

### 测试其他模型:
在设置页面的"AI 模型"下拉菜单中选择:
- `gpt-3.5-turbo`
- `gpt-4`
- `claude-3-5-sonnet-20241022`
- `deepseek-chat`

保存后测试,弹窗标题会显示对应的模型名称。

## 故障排除

### 如果翻译失败:

1. **检查控制台错误**:
   - 按F12打开Console
   - 查看红色错误信息
   - 常见错误:
     - `请先配置GPT API密钥` - 需要在设置中填写API密钥
     - `HTTP error! status: 401` - API密钥错误
     - `HTTP error! status: 404` - API地址错误或模型不存在
     - `Failed to fetch` - 网络连接失败或本地API服务未运行

2. **检查网络请求**:
   - 在Network标签查看请求是否发送成功
   - 查看请求的URL是否正确
   - 查看响应状态码和内容

3. **验证本地API服务**:
   - 确保本地API服务正在运行
   - 在浏览器访问 `http://127.0.0.1:8045` 确认服务可用
   - 使用Postman或curl测试API是否正常

## 示例测试流程

```
1. 打开任意英文网页(如Wikipedia)
2. 按F12打开开发者工具,切换到Console标签
3. 选择一段英文文本
4. 观察:
   ✅ 弹窗标题显示: "翻译结果 AI翻译 (claude-sonnet-4-5)"
   ✅ 控制台显示: "[翻译助手] 使用引擎: AI翻译 (claude-sonnet-4-5)"
   ✅ Network标签显示请求到: 127.0.0.1:8045
   ✅ 翻译结果正确显示
```

---

**现在你可以清楚地知道正在使用哪种翻译引擎了!** 🎉
